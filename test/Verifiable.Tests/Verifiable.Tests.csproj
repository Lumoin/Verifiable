<Project Sdk="MSTest.Sdk">
  <PropertyGroup>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <!--
      Displays error on console in addition to the log file. Note that this feature comes with a performance impact.
      For more information, visit https://learn.microsoft.com/dotnet/core/testing/unit-testing-platform-integration-dotnet-test#show-failure-per-test
      -->
    <TestingPlatformShowTestsFailure>true</TestingPlatformShowTestsFailure>
    <RunSettingsFilePath>$(MSBuildProjectDirectory)\config.runsettings</RunSettingsFilePath>
    <TestingExtensionsProfile>AllMicrosoft</TestingExtensionsProfile>
    <IsTestApplication>true</IsTestApplication>
    <MSTestAnalysisMode>Recommended</MSTestAnalysisMode>
  </PropertyGroup>
  <ItemGroup>
    <Compile Remove="Cose\**" />
    <Compile Remove="test\VerificationResultResolution\**" />
    <Compile Remove="Utilities\**" />
    <EmbeddedResource Remove="Cose\**" />
    <EmbeddedResource Remove="test\VerificationResultResolution\**" />
    <EmbeddedResource Remove="Utilities\**" />
    <None Remove="Cose\**" />
    <None Remove="test\VerificationResultResolution\**" />
    <None Remove="Utilities\**" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="dotNetRdf" />
    <PackageReference Include="CsCheck" />
    <PackageReference Include="LiquidTestReports.Markdown" />
    <PackageReference Include="System.Security.Cryptography.ProtectedData" />
    <PackageReference Include="ModelContextProtocol" />
    <PackageReference Include="Microsoft.Extensions.Hosting" />
    <PackageReference Include="System.CommandLine" />
    <PackageReference Include="Microsoft.Extensions.TimeProvider.Testing" />
    <PackageReference Include="SimpleBase" />
    <PackageReference Include="Microsoft.Extensions.Caching.Memory" />
    <PackageReference Update="Microsoft.Testing.Extensions.CodeCoverage">      
      <VersionOverride>18.4.1</VersionOverride>
    </PackageReference>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\src\Verifiable.BouncyCastle\Verifiable.BouncyCastle.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Cbor\Verifiable.Cbor.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Core\Verifiable.Core.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Cryptography\Verifiable.Cryptography.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.JCose\Verifiable.JCose.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Json\Verifiable.Json.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Microsoft\Verifiable.Microsoft.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.NSec\Verifiable.NSec.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.OAuth\Verifiable.OAuth.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Sidetree\Verifiable.Sidetree.csproj" />
    <ProjectReference Include="..\..\src\Verifiable.Tpm\Verifiable.Tpm.csproj" />
    <ProjectReference Include="..\..\src\Verifiable\Verifiable.csproj" />    
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.CodeAnalysis.BannedApiAnalyzers">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
    </PackageReference>    
    <AdditionalFiles Include="..\..\BannedSymbols.txt" Visible="false" />
  </ItemGroup>  
  
</Project>
